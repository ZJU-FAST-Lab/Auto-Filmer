<launch>
    <arg name="map_size_x" value="50.0"/>
    <arg name="map_size_y" value="50.0"/>
    <arg name="map_size_z" value="10.0"/>
    <arg name="odom_topic" value="odom" />


    <!-- GUI-->
    <node pkg="gui" name="gui_node" type="gui.py" output="screen">
        <remap from="image" to="/drone_1/usb_camera"/>
        <remap from="shot" to="/drone_1/shotparams"/>
    </node>

    <!-- manual map -->
    <node pkg ="map_generator" name ="map_generator_easy" type ="map_generator_easy.py" output = "screen" respawn="true" >
        <param name="map/x_size" value="$(arg map_size_x)"/>
        <param name="map/y_size" value="$(arg map_size_y)"/>
        <param name="map/z_size" value="$(arg map_size_z)"/>
        <param name="map/resolution" value="0.05"/>

        <param name="map/add_floor" value="false"/>
        <param name="map/add_ceiling" value="false"/>

        <param name="sensing/rate" value="1.0"/>

    </node>

    <node name="rviz" pkg="rviz" type="rviz" args="-d $(find mapping)/config/rviz_sim.rviz"/>

    <include file="$(find target_planner)/launch/run_in_sim_target.launch">
        <arg name="drone_id" value="0"/>
        <arg name="init_x" value="-18.0"/>
        <arg name="init_y" value="-0.0"/>
        <arg name="init_z" value="1.0"/>
        <arg name="map_size_x" value="$(arg map_size_x)"/>
        <arg name="map_size_y" value="$(arg map_size_y)"/>
        <arg name="map_size_z" value="$(arg map_size_z)"/>
        <arg name="odom_topic" value="$(arg odom_topic)"/>
    </include>

    <include file="$(find planning)/launch/run_in_sim.launch">
        <arg name="drone_id" value="1"/>
        <arg name="init_x" value="-15.0"/>
        <arg name="init_y" value="0.0"/>
         <arg name="init_z" value="1.0"/>
        <arg name="map_size_x" value="$(arg map_size_x)"/>
        <arg name="map_size_y" value="$(arg map_size_y)"/>
        <arg name="map_size_z" value="$(arg map_size_z)"/>
        <arg name="odom_topic" value="$(arg odom_topic)"/>
        <arg name="target_odom" value="/drone_0_odom"/>
    </include>

</launch>